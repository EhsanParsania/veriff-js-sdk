!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Veriff",[],t):"object"==typeof exports?exports.Veriff=t():e.Veriff=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";n(1);var a=n(2),r=a.createTemplate,i=n(4),s=function(e){var t=e.apiKey,n=e.parentId,a=e.onSession;return{params:{person:{},features:["selfid"]},env:{ENV:"production",VERIFF_API_URL:"https://magic.veriff.me/v1"}.ENV,setParams:function(e){this.params=Object.assign({},this.params,e)},mount:function(){var e=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=s.formLabel,u=s.submitBtnText,f=r(n,{person:this.params.person,formLabel:o,submitBtnText:u});f.onsubmit=function(n){if(n.preventDefault(),!(e.params.features&&e.params.features instanceof Array))throw new Error("Session features array is required");var r=f.givenName?f.givenName.value:null,s=f.lastName?f.lastName.value:null;e.setParams({person:{givenName:r,lastName:s}}),i(t,e.params,function(e,t){a(e,t)})}}}};e.exports=s},function(e,t){},function(e,t,n){"use strict";var a=n(3),r=a.camelCaseToSlug,i=function(e){var t=e.type,n=e.value,a=e.name,i=document.createElement("input");return i.setAttribute("type",t),"submit"===t&&n&&(i.value=n),i.setAttribute("class","veriff-"+t),i.setAttribute("id","veriff-"+r(a)),i.setAttribute("name",a),i.setAttribute("required",!0),i},s=function(e,t){var n=document.createElement("label");return n.setAttribute("class","veriff-label"),n.setAttribute("id","veriff-label-"+r(t)),n.setAttribute("htmlFor",t),n.innerHTML=e,n},o=function(e){var t=e.container,n=e.name,a=e.label;if(!e.shouldRender){var r=s(a,n),o=i({type:"text",name:n});t.appendChild(r),t.appendChild(o)}},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.formLabel,a=void 0===n?{givenName:"Given name",lastName:"Last name"}:n,r=t.person,s=void 0===r?{givenName:!1,lastName:!1}:r,u=t.submitBtnText,f=void 0===u?"Start verification":u,l=document.getElementById(e);l||new Error("Element "+e+" does not exists");var m=document.createDocumentFragment(),c=document.createElement("form");c.setAttribute("class","veriff-container"),c.setAttribute("name","veriff-form"),o({container:c,name:"givenName",label:a.givenName,shouldRender:s.givenName}),o({container:c,name:"lastName",label:a.lastName,shouldRender:s.lastName});var p=i({type:"submit",name:"submitBtn",value:f});return c.appendChild(p),m.appendChild(c),l.appendChild(m),c};e.exports={createTemplate:u}},function(e,t,n){"use strict";var a=t;a.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},a.camelCaseToSlug=function(e){return e.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase()},a.camelCaseHuminize=function(e){return a.capitalize(e.replace(/([a-zA-Z])(?=[A-Z])/g,"$1 ").toLowerCase())}},function(e,t,n){"use strict";var a={ENV:"production",VERIFF_API_URL:"https://magic.veriff.me/v1"}.VERIFF_API_URL+"/sessions",r=function(e,t,n){var r=new XMLHttpRequest;r.open("POST",a,!0),r.setRequestHeader("Content-type","application/json"),r.setRequestHeader("x-auth-client",e),r.onreadystatechange=function(){if(4===r.readyState)if("201"==r.status){var e=JSON.parse(r.responseText);n(null,e)}else n({status:r.status,statusText:r.statusText},null)};var i={verification:{features:t.features,person:{firstName:t.person.givenName,lastName:t.person.lastName},timestamp:(new Date).toISOString()}},s=JSON.stringify(i);r.send(s)};e.exports=r}])});